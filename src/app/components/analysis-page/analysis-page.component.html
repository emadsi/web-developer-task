<mat-card>
  <h2>Analysis Page</h2>

  <!-- Filters -->
  <form [formGroup]="filterForm">
    <mat-form-field>
      <mat-label>Select Trainee IDs</mat-label>
      <mat-select formControlName="traineeIds" multiple>
        <mat-option *ngFor="let trainee of trainees()" [value]="trainee.id">
          {{ trainee.id }} - {{ trainee.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Select Subjects</mat-label>
      <mat-select formControlName="subjects" multiple>
        <mat-option *ngFor="let subject of subjects()" [value]="subject">
          {{ subject }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </form>

  <!-- Drag and Drop Charts -->
  <div cdkDropList (cdkDropListDropped)="swapCharts($event)">
    <div *ngFor="let chart of displayedCharts(); let i = index" cdkDrag>
      <mat-card>
        <h3>{{ chart }}</h3>
        <!-- Placeholder for chart implementation -->
        <canvas id="chart{{i}}"></canvas>
      </mat-card>
    </div>
  </div>

  <!-- Hidden Chart Replacement -->
  <button mat-button (click)="replaceChart()">Replace with {{ hiddenChart() }}</button>
</mat-card>